import { Link } from '@brillout/docpress'
import { ImplementedBy } from '../../components'

Environment: server.

<ImplementedBy by={<Link href="/vike-vue"><code>vike-vue</code></Link>} noCustomGuide={true}>`onBeforeRenderHtml()`</ImplementedBy>

Hook called right before rendering <Link href="/Page">the `+Page` component</Link> to HTML.

It's called upon rendering the first page.
- It's called regardless of whether <Link href="/ssr">SSR</Link> is disabled. (The first page the user visits is always rendered to HTML: when SSR is disabled then the HTML is just an HTML shell that doesn't contain the content of the page.)
- It isn't called upon page navigation. (Pages aren't rendered to HTML upon page navigation.)

> If you want to perform an action only upon SSR then check whether <Link href="/pageContext#:~:text=pageContext.Page,-%3A">`pageContext.Page`</Link> is set:
>
> ```js
> // +onBeforeRenderHtml.js
>
> export function onBeforeRenderHtml(pageContext) {
>   const isSSR = !!pageContext.Page
>   if (isSSR) {
>     // ...
>   }
> }
> ```


## Use cases

It's usually used for integrating tools, such as collecting the page's CSS defined by a CSS-in-JS library.

- [#141 - CSS-in-JS with SSR](https://github.com/vikejs/vike-vue/issues/141)

## See also

- <Link href="/onAfterRenderHtml"/>
- <Link href="/onRenderHtml"/>
- <Link href="/onRenderClient"/>
- <Link href="/hooks"/>
